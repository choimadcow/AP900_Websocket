<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Screen 2</title>
    <style>
        body { font-family: sans-serif; }
        .tabs {
            overflow: hidden;
            border: 1px solid #ccc;
            background-color: #f1f1f1;
        }
        .tabs a {
            background-color: inherit;
            float: left;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 16px;
            transition: 0.3s;
            text-decoration: none;
            color: black;
        }
        .tabs a:hover {
            background-color: #ddd;
        }
        .tabs a.active {
            background-color: #ccc;
        }
        .container { padding: 20px; }
        .grid-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-top: 20px;
        }
        .toggle-wrapper {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f0f0f0;
            border: 1px solid #ccc;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
            cursor: pointer;
        }
        .toggle-text {
            font-size: 1.1em;
            font-weight: bold;
            color: #333;
        }
    </style>
</head>
<body>

<div class="tabs">
    <a href="/monitoring" class="tablinks">Screen 1</a>
    <a href="/monitoring/screen2" class="tablinks active">Screen 2</a>
</div>

<div class="container">
    <div class="grid-container">
        <div class="toggle-wrapper" onclick="setSpeed(0, 30)">
            <div class="toggle-text">0-30 km/h</div>
        </div>
        <div class="toggle-wrapper" onclick="setSpeed(31, 60)">
            <div class="toggle-text">31-60 km/h</div>
        </div>
        <div class="toggle-wrapper" onclick="setSpeed(61, 100)">
            <div class="toggle-text">61-100 km/h</div>
        </div>
        <div class="toggle-wrapper" onclick="setSpeed(101, 150)">
            <div class="toggle-text">100+ km/h</div>
        </div>
    </div>
</div>

<script>
    async function setSpeed(min, max) {
        const speed = Math.floor(Math.random() * (max - min + 1)) + min;
        try {
            const response = await fetch(`/set-speed/${speed}`);
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            console.log(`Set speed to ${speed}`);
        } catch (error) {
            console.error(`Error setting speed:`, error);
            alert(`Failed to set speed. ${error.message}`);
        }
    }
</script>

</body>
</html>